{"version":3,"file":"1.bundle.js","sources":["webpack:///./src/Components/RepoCard.js","webpack:///./src/pages/Battle/Battle.js","webpack:///./src/pages/Battle/Result.js","webpack:///./src/pages/Battle/index.js"],"sourcesContent":["import React from 'react'\r\nimport * as ReactBootstrap from 'react-bootstrap'\r\nimport '../../node_modules/bootstrap/dist/css/bootstrap.css'\r\nimport '../../node_modules/font-awesome/css/font-awesome.css'\r\n\r\nvar Card = ReactBootstrap.Card\r\n\r\nclass RepoCard extends React.Component {\r\n    render() {\r\n        // console.log(this.props.userItem)\r\n        return (\r\n            <div><Card border=\"success\" style={{ margin: '0 auto', marginTop: '8px', marginBottom: '8px', width: '300px', height: '500px' }}>\r\n                <Card.Header className=\"text-center\">{this.props.type ? this.props.type : null}</Card.Header>\r\n                <Card.Body>\r\n                    <Card.Title className=\"text-center\"><Card.Link href={this.props.userItem.html_url} target=\"_blank\">{this.props.userItem.full_name}</Card.Link></Card.Title>\r\n                    <Card.Text><i className=\"fa fa-user fa-lg fa-fw\" style={{ color: 'red' }}></i>{this.props.userItem.name}</Card.Text>\r\n                    <Card.Text><i className=\"fa fa-star fa-lg fa-fw\" style={{ color: 'yellow' }}></i>{this.props.userItem.stargazers_count}</Card.Text>\r\n                    <Card.Text><i className=\"fa fa-code-fork fa-lg fa-fw\" style={{ color: 'lightblue' }}></i>{this.props.userItem.forks}</Card.Text>\r\n                    <Card.Text><i className=\"fa fa-warning fa-lg fa-fw\" style={{ color: 'purple' }}></i>{this.props.userItem.open_issues}</Card.Text>\r\n                </Card.Body>\r\n            </Card> </div>\r\n        )\r\n    }\r\n}\r\nexport default RepoCard","import React from 'react'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faWindowClose, faSpinner, faPeopleArrows, faBalanceScale, faTrophy } from '@fortawesome/free-solid-svg-icons';\r\nimport { Col, Form, Row } from 'react-bootstrap'\r\nimport '@/styles/index.less'\r\nimport axios from 'axios'\r\n\r\nclass Battle extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            userName: \"freeCodeCamp\",\r\n            userName2: \"996icu\",\r\n            TotalCount: \"\",\r\n            TotalCount2: \"\",\r\n            userItem: [],\r\n            userItem2: [],\r\n            key: 0,\r\n            key2: 0,\r\n            loadKey: true,\r\n            loadKey2: true,\r\n            openKey: 0,\r\n        }\r\n    }\r\n\r\n    userSubmit = async () => {\r\n        if(!this.state.userName){\r\n            alert(\"不能为空\")\r\n            return \r\n        }\r\n        this.setState(\r\n            {\r\n                loadKey: false\r\n            }\r\n        )\r\n        await axios.get(`https://api.github.com/search/repositories?q=${this.state.userName}&order=desc&sort=stars`)\r\n            .then(res => {\r\n                // console.log(res)\r\n                if (this.state.loadKey) {\r\n                    return\r\n                }\r\n                this.setState(\r\n                    {\r\n                        userItem: res.data.items[0],\r\n                        TotalCount: res.data.total_count,\r\n                        key: 1,\r\n                        loadKey: true\r\n                    }\r\n                )\r\n            })\r\n            .catch(err => {\r\n                // console.log(err);\r\n                alert(\"API Wrong!\")\r\n                this.setState(\r\n                    {\r\n                        loadKey: true\r\n                    }\r\n                )\r\n            })\r\n        this.props.getChildData(this.state)\r\n    }\r\n\r\n    userSubmit2 = async () => {\r\n        if(!this.state.userName2){\r\n            alert(\"不能为空\")\r\n            return \r\n        }\r\n        this.setState(\r\n            {\r\n                loadKey2: false\r\n            }\r\n        )\r\n        await axios.get(`https://api.github.com/search/repositories?q=${this.state.userName2}&order=desc&sort=stars`)\r\n            .then(res => {\r\n                // console.log(res)\r\n                if (this.state.loadKey2) {\r\n                    return\r\n                }\r\n                this.setState(\r\n                    {\r\n                        userItem2: res.data.items[0],\r\n                        TotalCount2: res.data.total_count,\r\n                        key2: 1,\r\n                        loadKey2: true\r\n                    }\r\n                )\r\n            })\r\n            .catch(err => {\r\n                // console.log(err);\r\n                alert(\"API Wrong!\")\r\n                this.setState(\r\n                    {\r\n                        loadKey2: true\r\n                    }\r\n                )\r\n            })\r\n        this.props.getChildData(this.state)\r\n    }\r\n\r\n    selKey = () => {\r\n         this.setState({\r\n            key: 0\r\n        })\r\n    }\r\n\r\n    selKey2 =  () => {\r\n         this.setState({\r\n            key2: 0\r\n        })\r\n    }\r\n\r\n    selLoadkey = () => {\r\n        this.setState({\r\n            loadKey: true\r\n        })\r\n    }\r\n\r\n    selLoadkey2 = () => {\r\n        this.setState({\r\n            loadKey2: true\r\n        })\r\n    }\r\n\r\n    userChange = (ev) => {\r\n        ev.persist();\r\n        this.setState(\r\n            {\r\n                userName: ev.target.value\r\n            }\r\n        )\r\n    }\r\n\r\n    userChange2 = (ev) => {\r\n        ev.persist();\r\n        this.setState(\r\n            {\r\n                userName2: ev.target.value\r\n            }\r\n        )\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"container\">\r\n                <div className=\"instrutions\">\r\n                    <h1>Instrutions</h1>\r\n                    <Row>\r\n                        <Col>\r\n                            <h5>Enter Two Users</h5>\r\n                            <FontAwesomeIcon className='a' style={{ color: \"#e06c75\" }} icon={faPeopleArrows} />\r\n                        </Col>\r\n                        <Col>\r\n                            <h5>Battle</h5>\r\n                            <FontAwesomeIcon className=\"a\" style={{ color: \"#ec981d\" }} icon={faBalanceScale} />\r\n                        </Col>\r\n                        <Col>\r\n                            <h5>See The Winner</h5>\r\n                            <div><FontAwesomeIcon className=\"a\" style={{ color: \"#e06c75\" }} icon={faTrophy} /></div>\r\n                        </Col>\r\n                    </Row>\r\n                </div>\r\n                <div className=\"palyers\">\r\n                    <h2>Players</h2>\r\n                    <Row>\r\n                        <Col>\r\n                            {this.state.key ?\r\n                                <div className=\"playerCard\"><img src={0 ? `${this.state.userItem.owner.avatar_url}?size=50` : `https://github.com/${this.state.userName}.png?size=50`} alt=\"\" />\r\n                                    <span>{this.state.userName}</span>\r\n                                    <FontAwesomeIcon className=\"b\" icon={faWindowClose} onClick={this.selKey} /></div>\r\n                                : <div>{this.state.loadKey ? <div className=\"playerCard\"><input className=\"playerInput\" type=\"text\" placeholder=\"Github UserName\" value={this.state.userName} onChange={this.userChange} onKeyDown={() => { if (window.event.keyCode === 13) { this.userSubmit() } }} />\r\n                                    {this.state.userName!==\"\"?<input type=\"button\" className=\"playerButton\" value=\"Submit\" onClick={this.userSubmit} />:<div></div>}\r\n                                    </div> : <div><h5 style={{ textAlign: 'center' }} className=\"\"><FontAwesomeIcon icon={faSpinner} spin style={{ fontSize: '30px' }} />\r\n                                        <span className=\"sr-only\">Loading...</span>\r\n                                    </h5><FontAwesomeIcon className=\"b\" icon={faWindowClose} onClick={this.selLoadkey} /></div>}</div>}\r\n                        </Col>\r\n                        <Col>\r\n                            {this.state.key2 ?\r\n                                <div className=\"playerCard\"><img src={0 ? `${this.state.userItem2.owner.avatar_url}?size=50` : `https://github.com/${this.state.userName2}.png?size=50`} alt=\"\" />\r\n                                    <span>{this.state.userName2}</span>\r\n                                    <FontAwesomeIcon className=\"b\" icon={faWindowClose} onClick={this.selKey2} /></div>\r\n                                : <div>{this.state.loadKey2 ? <div className=\"playerCard\"><input className=\"playerInput\" type=\"text\" placeholder=\"Github UserName\" value={this.state.userName2} onChange={this.userChange2} onKeyDown={() => { if (window.event.keyCode === 13) { this.userSubmit2() } }} />\r\n                                    {this.state.userName2!==\"\"?<input type=\"button\" className=\"playerButton\" value=\"Submit\" onClick={this.userSubmit2} />:<div></div>}\r\n                                    </div> : <div><h5 style={{ textAlign: 'center' }} className=\"\"><FontAwesomeIcon icon={faSpinner} spin style={{ fontSize: '30px' }} />\r\n                                        <span className=\"sr-only\">Loading...</span>\r\n                                    </h5><FontAwesomeIcon className=\"b\" icon={faWindowClose} onClick={this.selLoadkey2} /></div>}</div>}\r\n                        </Col>\r\n                    </Row>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default Battle;","import React from 'react'\r\nimport RepoCard from \"@/Components/RepoCard\"\r\nimport { Container, Col, Row } from 'react-bootstrap'\r\n\r\nclass Result extends React.Component {\r\n    render() {\r\n        let one = \"\"\r\n        let two = \"\"\r\n        const win = () => {\r\n            if (this.props.userItem.stargazers_count && this.props.userItem2.stargazers_count) {\r\n                if (this.props.userItem.stargazers_count > this.props.userItem2.stargazers_count) {\r\n                    one = \"Winning\"\r\n                    two = \"Failed\"\r\n                } else {\r\n                    two = \"Winning\"\r\n                    one = \"Failed\"\r\n                }\r\n            }\r\n        }\r\n        win()\r\n        return (\r\n            <Container>\r\n                <Row>\r\n                    <Col>\r\n                        <div>\r\n                            <RepoCard userItem={this.props.userItem} type={one}/>\r\n                        </div>\r\n                    </Col>\r\n                    <Col>\r\n                        <div>\r\n                            <RepoCard userItem={this.props.userItem2} type={two} />\r\n                        </div>\r\n                    </Col>\r\n                </Row>\r\n            </Container>\r\n\r\n        )\r\n    }\r\n}\r\nexport default Result","import React from \"react\"\r\nimport axios from \"axios\"\r\nimport { HashRouter as Router, Link } from 'react-router-dom'\r\nimport Battle from '@/pages/Battle/Battle'\r\nimport Result from '@/pages/Battle/Result'\r\nimport '@/styles/index.less'\r\n\r\nclass index extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      userName: \"freeCodeCamp\",\r\n      userName2: \"996icu\",\r\n      userItem: [],\r\n      userItem2: [],\r\n      key: 0,\r\n      key2: 0,\r\n      openKey: 0,\r\n    }\r\n  }\r\n\r\n  async componentDidMount() {\r\n    if (this.props.match.params.user) {\r\n      const arr = this.props.match.params.user.split(\"&\")\r\n      await this.setState({\r\n        userName: arr[0],\r\n        userName2: arr[1],\r\n        openKey: 1,\r\n        key: 1,\r\n        key2: 1\r\n      })\r\n      this.getNewData1();\r\n      this.getNewData2()\r\n    }\r\n    // console.log(this.props.match.params.user)\r\n  }\r\n\r\n  getNewData1 = () => {\r\n    axios.get(`https://api.github.com/search/repositories?q=${this.state.userName}&order=desc&sort=stars`)\r\n      .then(res => {\r\n        this.setState({\r\n          userItem: res.data.items[0],\r\n        })\r\n      })\r\n      .catch(err => {\r\n        // console.error(err);\r\n        alert(\"API Wrong!\")\r\n      })\r\n  }\r\n\r\n  getNewData2 = () => {\r\n    axios.get(`https://api.github.com/search/repositories?q=${this.state.userName2}&order=desc&sort=stars`)\r\n      .then(res => {\r\n        this.setState({\r\n          userItem2: res.data.items[0],\r\n        })\r\n      })\r\n      .catch(err => {\r\n        // console.error(err);\r\n        alert(\"API Wrong!\")\r\n      })\r\n  }\r\n\r\n  getData = (data) => {\r\n    const { userName, userName2, userItem, userItem2, key, key2 } = data\r\n    this.setState({\r\n      userName,\r\n      userName2,\r\n      userItem,\r\n      userItem2,\r\n      key,\r\n      key2\r\n    })\r\n  }\r\n\r\n  openBattle = () => {\r\n    // console.log(this.state.key + \"\" + this.state.key2)\r\n    if (this.state.openKey) {\r\n      this.setState({\r\n        openKey: 0,\r\n        key: 0,\r\n        key2: 0\r\n      })\r\n    } else {\r\n      this.setState({\r\n        openKey: 1,\r\n      })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (<div>{this.state.openKey ?\r\n      <div>\r\n        <Result userName={this.state.userName} userName2={this.state.userName2} userItem={this.state.userItem} userItem2={this.state.userItem2} /></div>\r\n      : <div><Battle getChildData={this.getData} /></div>}\r\n      <Router>\r\n        {this.state.key && this.state.key2 ? (<Link to={{ pathname: this.state.openKey ? `/Battle` : `/Battle/${this.state.userName}&${this.state.userName2}` }}><h2><button type=\"button\" onClick={this.openBattle}>{this.state.openKey ? \"GOBACK\" : \"BATTLE\"}</button></h2></Link>) : null}\r\n      </Router></div>)\r\n  }\r\n}\r\nexport default index"],"mappings":"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","sourceRoot":""}